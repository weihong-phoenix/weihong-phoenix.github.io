<!DOCTYPE html>
<!--[if IE]><![endif]-->
<html>
  
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
    <title>Phoenix &#21151;&#33021;&#35268;&#26684;&#32534;&#20889;&#25351;&#23548; </title>
    <meta name="viewport" content="width=device-width">
    <meta name="title" content="Phoenix &#21151;&#33021;&#35268;&#26684;&#32534;&#20889;&#25351;&#23548; ">
    <meta name="generator" content="docfx 2.59.4.0">
    
    <link rel="shortcut icon" href="../../../favicon.ico">
    <link rel="stylesheet" href="../../../styles/docfx.vendor.css">
    <link rel="stylesheet" href="../../../styles/docfx.css">
    <link rel="stylesheet" href="../../../styles/main.css">
    <meta property="docfx:navrel" content="../../../toc.html">
    <meta property="docfx:tocrel" content="../toc.html">
    
    <meta property="docfx:rel" content="../../../">
    
  </head>
  <body data-spy="scroll" data-target="#affix" data-offset="120">
    <div id="wrapper">
      <header>
        
        <nav id="autocollapse" class="navbar navbar-inverse ng-scope" role="navigation">
          <div class="container">
            <div class="navbar-header">
              <button type="button" class="navbar-toggle" data-toggle="collapse" data-target="#navbar">
                <span class="sr-only">Toggle navigation</span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
              </button>
              
              <a class="navbar-brand" href="../../../index.html">
                <img id="logo" class="svg" src="../../../logo.svg" alt="">
              </a>
            </div>
            <div class="collapse navbar-collapse" id="navbar">
              <form class="navbar-form navbar-right" role="search" id="search">
                <div class="form-group">
                  <input type="text" class="form-control" id="search-query" placeholder="Search" autocomplete="off">
                </div>
              </form>
            </div>
          </div>
        </nav>
        
        <div class="subnav navbar navbar-default">
          <div class="container hide-when-search" id="breadcrumb">
            <ul class="breadcrumb">
              <li></li>
            </ul>
          </div>
        </div>
      </header>
      <div class="container body-content">
        
        <div id="search-results">
          <div class="search-list">Search Results for <span></span></div>
          <div class="sr-items">
            <p><i class="glyphicon glyphicon-refresh index-loading"></i></p>
          </div>
          <ul id="pagination" data-first="First" data-prev="Previous" data-next="Next" data-last="Last"></ul>
        </div>
      </div>
      <div role="main" class="container body-content hide-when-search">
        
        <div class="sidenav hide-when-search">
          <a class="btn toc-toggle collapse" data-toggle="collapse" href="#sidetoggle" aria-expanded="false" aria-controls="sidetoggle">Show / Hide Table of Contents</a>
          <div class="sidetoggle collapse" id="sidetoggle">
            <div id="sidetoc"></div>
          </div>
        </div>
        <div class="article row grid-right">
          <div class="col-md-10">
            <article class="content wrap" id="_content" data-uid="">
<h1 id="phoenix-功能规格编写指导">Phoenix 功能规格编写指导</h1>

<h2 id="目的">目的</h2>
<p>为保证 Phoenix 子系统功能规格的一致性和完整性， 从项目实践中归纳整理成该指导书，希望可以为 SRS 提供结构和接口描述上编写规范和指导，从而提升文档的质量和编写效率。</p>
<p>该文档依赖上层文件，即《产品研发文档编写规范》和《产品研发文档编写指南》。</p>
<h2 id="范围">范围</h2>
<p>本文档包括以下章节内容：</p>
<pre><code class="lang-c">---
元数据
---

# 功能名称【必须】
## 概述 【必须】
## 信号 【必须】
## 参数 【必须】
## Target 【必须】
## 报警 【必须】
## 补充说明 【可选】
</code></pre><blockquote><p>说明：<br><strong>必须：</strong> 该功能规格必须包含此章节内容。<br><strong>可选：</strong> 该功能规格按需包含。</p>
</blockquote>
<h2 id="详细要求">详细要求</h2>
<h3 id="必须元数据">【必须】元数据</h3>
<blockquote><p><strong>说明：</strong><br><strong>【必须】uid:</strong>  文档的唯一标志名，使用英文名进行描述，使用下划线进行连接，需保证整个srs文档唯一。<br><strong>【必须】implementation:</strong> 是否已经实现，可选为 yes/no/uncertain/future。<br><strong>【可选】fanuc_link_0i.no:</strong> FANUC-0i 的规格 ID，这部分在生成初版文档的时候已经批量生成。<br><strong>【可选】fanuc_link_0i.eng:</strong> FANUC 对应章节英文名称。<br><strong>【可选】fanuc_link_0i.chn:</strong> FANUC 对应章节的中文名称。  </p>
</blockquote>
<div class="NOTE"><h5>Note</h5><p>如何组织uid? 优先考虑通过三级规格表英文名字进行组合, 如：（1级名字_2级别名字_3级名字）。 目前暂不做强制要求。</p>
</div>
<div class="NOTE"><h5>Note</h5><p><strong>必须的章节可以没有：</strong> 如果不存在信号/参数/Target/报警，则对应的章节可以没有，如果存在则必须包含。</p>
</div>
<h3 id="必须功能名称">【必须】功能名称</h3>
<p>功能的名称往往是三级规格中，最后一级的规格名称。</p>
<h3 id="必须概述">【必须】概述</h3>
<p>概述需要通过正向描述当前功能是什么？有什么用途？设计的目的是什么？力求使读者通过概述能够清楚该功能整体作用和约束。</p>
<p>我们推荐大篇幅的概述，即功能规格的概要和详细内容都可以在概述章节进行描述。</p>
<p>可以通过概述下级子标题进行详细描述，也可以增加章节详细解释。</p>
<p>一般先整体描述功能，然后再详细解释规格，可通过流程、场景等形式进行描述，必要的情况结合 <strong>示例</strong> 解释说明。</p>
<blockquote><p>待讨论：概述不是背景，不是需求，不需要描述你为什么做它。
以上这句话有待商榷，先保留在此处。</p>
</blockquote>
<h3 id="必须信号">【必须】信号</h3>
<p>信号是表示系统运行状态的数据。</p>
<p>信号都是寻址接口，按照表格的形式描述。 <em>可选</em> 的项并非每个信号都需要，如果该信号不涉及，可以 <strong>去除该项</strong>。</p>
<blockquote><p>说明：
寻址接口后续将通过自动化工具输出，以下定义寻址清单的表格模版。</p>
</blockquote>
<table>
<thead>
<tr>
<th>项</th>
<th>值</th>
</tr>
</thead>
<tbody>
<tr>
<td>寻址</td>
<td>寻址字符串</td>
</tr>
<tr>
<td>描述</td>
<td>信号的描述</td>
</tr>
<tr>
<td>类型</td>
<td>五种类型之一：bool, int, double, long, string</td>
</tr>
<tr>
<td>初始值</td>
<td>信号的初始值</td>
</tr>
<tr>
<td>单位（可选）</td>
<td>对于模拟量信号需要描述，比如：Position: mm</td>
</tr>
<tr>
<td>范围（可选）</td>
<td>信号根据类型有相应的取值范围</td>
</tr>
<tr>
<td>报警类型（可选）</td>
<td>信号的报警类型有三种。（-/ 状态报警 / 事件报警）</td>
</tr>
<tr>
<td>是否可持久（可选）</td>
<td>是/否</td>
</tr>
</tbody>
</table>
<h3 id="必须参数">【必须】参数</h3>
<p>参数是提供给用户设置，用来控制业务行为的输入数据。参数由系统进行定期保持（即持久化），并在启动时由系统读入。</p>
<p>参数都是寻址接口，按照表格的形式描述。 <em>可选</em> 的项并非每个参数都需要，如果该参数不涉及，可以 <strong>去除该项</strong> 。</p>
<table>
<thead>
<tr>
<th>项</th>
<th>值</th>
</tr>
</thead>
<tbody>
<tr>
<td>寻址</td>
<td>寻址字符串</td>
</tr>
<tr>
<td>描述</td>
<td>参数的功能描述</td>
</tr>
<tr>
<td>类型</td>
<td>五种类型之一：bool, int, double, long, string</td>
</tr>
<tr>
<td>初始值</td>
<td>参数的初始值</td>
</tr>
<tr>
<td>单位（可选）</td>
<td>参数的单位</td>
</tr>
<tr>
<td>范围（可选）</td>
<td>参数的取值范围，bool型则不需要描述范围</td>
</tr>
<tr>
<td>生效时间（可选）</td>
<td>参数的生效时机，包括立即生效、下次加工生效、重启生效、断电重启生效</td>
</tr>
</tbody>
</table>
<h3 id="必须target">【必须】Target</h3>
<p>Target都是寻址接口，按照表格的形式描述。 <em>可选</em> 的项并非每个 Target 都需要，如果不涉及，可以 <strong>去除该项</strong>。</p>
<blockquote><p>说明：
寻址清单通过自动化工具输出表格，以下定义寻址清单的表格模版。</p>
</blockquote>
<table>
<thead>
<tr>
<th>项</th>
<th>值</th>
</tr>
</thead>
<tbody>
<tr>
<td>寻址</td>
<td>寻址字符串</td>
</tr>
<tr>
<td>描述</td>
<td>Target的功能描述</td>
</tr>
<tr>
<td>返回值</td>
<td>介绍返回值的类型和意义</td>
</tr>
<tr>
<td>参数</td>
<td>按照命名参数的形式描述参数，没有则写无参数</td>
</tr>
</tbody>
</table>
<h3 id="必须报警">【必须】报警</h3>
<p>在信号中，若报警类型标记为报警的情况，必须在该章节详细描述报警信息。<br>此章节的目的是站在应用的角度对报警进行归类描述，辅以问题、解决方案的说明。</p>
<p>以下定义报警信号的描述模版。</p>
<table>
<thead>
<tr>
<th>报警信号</th>
<th>报警类型</th>
<th>描述</th>
<th>说明</th>
</tr>
</thead>
<tbody>
<tr>
<td>寻址名</td>
<td>错误或警告</td>
<td>报警的描述</td>
<td>产生原因：xxxxxx <br> 解决办法：xxxxxx</td>
</tr>
</tbody>
</table>
<div class="NOTE"><h5>Note</h5><p>这里的报警描述等价于信号章节的信号描述。</p>
</div>
<h3 id="可选补充说明">【可选】补充说明</h3>
<p>该章节作为概述部分的补充说明，。</p>
<p>补充规格的约束、例外。
通过各种场景详述当前规格的约束的要求和原因。</p>
<p>也可包含内部参考和外部参考。</p>
<blockquote><p>说明：
如果参考内部srs章节，可以辅助 markdown 的<strong>相对路径</strong>来描述。
如果参考外部网站， 可以辅助 url 地址来描述。</p>
</blockquote>
<h2 id="内容及格式的补充性要求">内容及格式的补充性要求</h2>
<h3 id="约束寻址的描述">约束寻址的描述</h3>
<ol>
<li>使用 <code>#</code> 开头</li>
<li>对于涉及到数组类型的寻址（<em>一般为轴数组，通道数组</em>）
提供⼀组全局的占位符<ul>
<li><code>{AN}</code>：轴索引</li>
<li><code>{CN}</code>：通道索引</li>
<li><code>{CAN}</code>: 通道轴索引</li>
</ul>
</li>
<li><code>{AN}</code>、<code>{CN}</code>、<code>{CAN}</code>作为全局性的占位符号存在，除此之外如果当前SRS文档中引入了其他占位符，必须在文档前面添加<strong>术语</strong> 章节中进行显式描述。</li>
<li>文档叙述中需要强调的参数/寻址/Target接口，请使用 <code>`` </code> 引用标记包裹。</li>
</ol>
<p>以下是寻址占位的示例：</p>
<pre><code class="lang-cs">#Axex[{AN}].Position 
#Channels[{CN}].Auto.Start()
#Channels[{CN}].Axes[{CAN}].WorkCoor
</code></pre><h3 id="对寻址描述进行规范">对寻址描述进行规范</h3>
<p>为了便于用户快速理解寻址，对描述的写法进行约束， 要求：</p>
<ol>
<li>优先使用短描述。（类似于之前的名称或Label）</li>
<li>需要详细解释时，需要遵照：“ <code>短描述， 详细解释。</code> ” 的书写风格。</li>
<li>对于Bool类型的接口，必须详细解释不同取值的意义， 如： &quot;<code>短描述， true:代表的含义； false:代表的含义。</code>&quot;</li>
<li>对于Enum 特征的int类型， 必须详细枚举不同取值的意义： 如： “ <code>短描述， 1:意义； 2：意义 ; 3:意义。</code>”</li>
</ol>
<p>描述的示例：</p>
<pre><code class="lang-cs">#Jog.ChannelIndex: 
通道索引，手动连续功能所属通道的索引，在init.json中配置。

#Jog.Turbo： 
手动连续加速开关， true:手动连续进入高速模式； false:手动连续进入低速模式.

#Channels[{CN}].Mode: 
通道模式， 当前通道的加工模式， 0:Auto；1：Jog; 2:Inc; 3:HW; 4: Home; 5:MDI.
</code></pre><div class="NOTE"><h5>Note</h5><p>描述并不是仅仅存在SRS中，规格落地后我们会在 PhoenixLeafMetadata 的 Description 中看到一致描述。</p>
</div>
<h3 id="对参数范围的描述进行规范">对参数范围的描述进行规范</h3>
<p>参数范围的描述要求和PhoenixLeafMetadata中 Range 的描述保持一致。</p>
<pre><code class="lang-c">[-99999, 99999] /* 范围：取值大于等于 -99999，小于等于 99999 */
(, 99999]  /* 上限：取值小于等于 99999。 */
[-99999,)  /* 下限：取值大于等于 -99999。 */
{0,1,2,3}  /* 枚举：取值为 0，1，2，3 中的一个。 */
</code></pre></article>
          </div>
          
          <div class="hidden-sm col-md-2" role="complementary">
            <div class="sideaffix">
              <div class="contribution">
                <ul class="nav">
                  <li>
                    <a href="https://github.com/weihong-phoenix/docfx_build/blob/main/doc/&#30740;&#21457;&#25991;&#26723;&#32534;&#20889;&#25351;&#21335;/&#20855;&#20307;&#25991;&#26723;&#32534;&#20889;&#25351;&#23548;/Phoenix&#21151;&#33021;&#35268;&#26684;&#32534;&#20889;&#25351;&#23548;.md/#L1" class="contribution-link">Improve this Doc</a>
                  </li>
                </ul>
              </div>
              <nav class="bs-docs-sidebar hidden-print hidden-xs hidden-sm affix" id="affix">
                <h5>In This Article</h5>
                <div></div>
              </nav>
            </div>
          </div>
        </div>
      </div>
      
      <footer>
        <div class="grad-bottom"></div>
        <div class="footer">
          <div class="container">
            <span class="pull-right">
              <a href="#top">Back to top</a>
            </span>
            Shanghai Weihong Electronic Technology Co., Ltd.
            
          </div>
        </div>
      </footer>
    </div>
    
    <script type="text/javascript" src="../../../styles/docfx.vendor.js"></script>
    <script type="text/javascript" src="../../../styles/docfx.js"></script>
    <script type="text/javascript" src="../../../styles/main.js"></script>
    
      </body>
</html>
