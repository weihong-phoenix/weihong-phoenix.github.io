<!DOCTYPE html>
<!--[if IE]><![endif]-->
<html>
  
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
    <title>Code Review &#25351;&#21335; </title>
    <meta name="viewport" content="width=device-width">
    <meta name="title" content="Code Review &#25351;&#21335; ">
    <meta name="generator" content="docfx 2.59.2.0">
    
    <link rel="shortcut icon" href="../../favicon.ico">
    <link rel="stylesheet" href="../../styles/docfx.vendor.css">
    <link rel="stylesheet" href="../../styles/docfx.css">
    <link rel="stylesheet" href="../../styles/main.css">
    <meta property="docfx:navrel" content="../../toc.html">
    <meta property="docfx:tocrel" content="toc.html">
    
    <meta property="docfx:rel" content="../../">
    
  </head>
  <body data-spy="scroll" data-target="#affix" data-offset="120">
    <div id="wrapper">
      <header>
        
        <nav id="autocollapse" class="navbar navbar-inverse ng-scope" role="navigation">
          <div class="container">
            <div class="navbar-header">
              <button type="button" class="navbar-toggle" data-toggle="collapse" data-target="#navbar">
                <span class="sr-only">Toggle navigation</span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
              </button>
              
              <a class="navbar-brand" href="../../index.html">
                <img id="logo" class="svg" src="../../logo.svg" alt="">
              </a>
            </div>
            <div class="collapse navbar-collapse" id="navbar">
              <form class="navbar-form navbar-right" role="search" id="search">
                <div class="form-group">
                  <input type="text" class="form-control" id="search-query" placeholder="Search" autocomplete="off">
                </div>
              </form>
            </div>
          </div>
        </nav>
        
        <div class="subnav navbar navbar-default">
          <div class="container hide-when-search" id="breadcrumb">
            <ul class="breadcrumb">
              <li></li>
            </ul>
          </div>
        </div>
      </header>
      <div class="container body-content">
        
        <div id="search-results">
          <div class="search-list">Search Results for <span></span></div>
          <div class="sr-items">
            <p><i class="glyphicon glyphicon-refresh index-loading"></i></p>
          </div>
          <ul id="pagination" data-first="First" data-prev="Previous" data-next="Next" data-last="Last"></ul>
        </div>
      </div>
      <div role="main" class="container body-content hide-when-search">
        
        <div class="sidenav hide-when-search">
          <a class="btn toc-toggle collapse" data-toggle="collapse" href="#sidetoggle" aria-expanded="false" aria-controls="sidetoggle">Show / Hide Table of Contents</a>
          <div class="sidetoggle collapse" id="sidetoggle">
            <div id="sidetoc"></div>
          </div>
        </div>
        <div class="article row grid-right">
          <div class="col-md-10">
            <article class="content wrap" id="_content" data-uid="">
<h1 id="code-review-指南">Code Review 指南</h1>

<h2 id="1--综述">1  综述</h2>
<ul>
<li><strong>在评审之前请先了解评审的目的</strong></li>
</ul>
<p>不同类型的代码评审具有不同的目的。项目成员的代码评审应关注代码怎样才能符合项目标准，以及代码是否正确地解决了问题。我们希望熟悉代码库的人，能对项目代码进行更详细的审查。用于年度审查的代码评审，应侧重于一些更大的创意和最佳实践。这些类型的评审应该能发现可以改进的实践模式。</p>
<ul>
<li><strong>所有开发人员都可以参与评审</strong></li>
</ul>
<p>所有开发人员都可以审核代码，不单单是有经验的开发人员。</p>
<ul>
<li><strong>评审的频率要高</strong></li>
</ul>
<p>代码评审与其他技能一样，收益来源于实践。要常用检查清单进行代码评审，还要注意收集关于评审质量的一些反馈：评审有帮助吗？评审的全面吗？会不会有些吹毛求疵呢？评审符合目的吗？评审的方式可以吗？</p>
<ul>
<li><strong>最好有两位评审人参与评审</strong></li>
</ul>
<p>评审人不一定越多越好，但是可以从多个角度看待这个问题。每个人都有自己的优势和观点，一个人可能发现其他人没有发现的问题。所以如果是核心代码，可能需要四个评审人参与评审，但一般也不要超过四个。</p>
<h2 id="2--角色">2  角色</h2>
<h3 id="21-评审人">2.1 评审人</h3>
<ul>
<li><strong>首先关注正确性，然后才是可读性和可理解性</strong></li>
</ul>
<p>代码是否解决了正确的问题？是否有不用修改代码就能解决问题的方法？这段代码是否正确的解决了问题？在确定代码正确无误后，看一下现在的实现方式是否可读和可理解。是否有更简洁明了的方法？</p>
<ul>
<li><strong>代码背景不仅包括特殊的技术要求（开发代码时所遵循的约束），还包括时间、截止日期、团队能力以及未来的规划</strong></li>
</ul>
<p>对于代码中明显的错误可以直接指出，但如果不确定是不是错误时，最好是先问一下：为什么要这么写呢？是否考虑过&lt;插入“正确”的选项&gt;？</p>
<ul>
<li><strong>鼓励使用工具</strong></li>
</ul>
<p>理想情况下，代码分析工具可以检查的内容是不需要再进行评审的。但如果发现代码中还存在问题，那应该先解决工具使用问题。</p>
<ul>
<li><strong>善于使用检查清单</strong></li>
</ul>
<p>不要每次评审代码时都临时准备检查清单。即使没有书面清单，在心理上也应该有一个可以参考的检查清单。建议使用我们提供的评审清单。</p>
<ul>
<li><strong>提供可行的改进方法</strong></li>
</ul>
<p>评审时不要一味的批评，还要给出可行的修改方案。</p>
<ul>
<li><strong>不要以你的做事风格去要求别人，因为它并不是标准</strong></li>
</ul>
<p>代码评审不是要检查代码是否与你的想法一致，而是要检查代码是否正确，是否符合目标和所有的“性能”（可读性，可维护性等）要求。</p>
<p>解决问题的方法有很多，你提出的观点会有一定帮助，但不代表被评审人的方法就是错误的，他只是用另一种实现方式解决了问题。</p>
<p>再次强调要互相学习：使用不同的实现方式解决问题，在提升被评审人思维的同时，也可以提升你自己的。</p>
<ul>
<li><strong>评审没发现问题也很正常</strong></li>
</ul>
<p>评审时要注意细节，但不要挑刺。如果实在没有发现可改进的地方，那就只给出正面的评价。</p>
<ul>
<li><strong>不要仅仅评审代码，还要提升开发人员的技能</strong></li>
</ul>
<p>开发人员所做的不只是编码，我们也希望大家全部的技能都有所提升。</p>
<ul>
<li><strong>不要私下随意谈论评审内容</strong></li>
</ul>
<p>在代码评审中发生的事情，就让它们停留在代码评审中吧。      一般来说，你发现的那些问题是你和被评审人之间的隐私。你可以在必要时与他人分享，例如需要完成绩效评估，或向项目负责人建议谁更适合某项特殊任务时。但千万不要让那些问题成为办公室随意议论、八卦的话题。</p>
<h3 id="22-被评审人">2.2 被评审人</h3>
<ul>
<li><strong>提供代码上下文</strong></li>
</ul>
<p>协助评审人员了解你的代码是如何嵌入整个程序中的。对于一些特殊的实现方法，要给出说明。还要告诉审核人员一些开发时的约束条件。</p>
<ul>
<li><strong>写好代码提交注释</strong></li>
</ul>
<p>好的代码提交注释，可以给将来的读者（包括代码评审人以及将来重新阅读代码的你）提供一些重要信息：代码修改的目的，以及代码上下文说明。</p>
<p>好的注释是既清晰又简洁的：不需要太详细，也不要太简短，不要写成小说或短篇小说。如果感觉以后会需要更多信息，则可以把这些信息记录在README中。</p>
<ul>
<li><strong>提交评审的代码量不要太多</strong></li>
</ul>
<p>当使用“Pull  Request”方式进行评审时，提交的代码量要尽量少一些。每次评审应该是小而有针对性的，以便可以评审到所有代码。对于那些多次变更的功能分支，在代码质量和集成方面一般都会有问题。</p>
<p>提交量准则：不超过5个文件；300-600行代码；一天的工作量；20-60分钟的代码评审时间。</p>
<p>如果提交代码量超过了以上准则，应该考虑拆分成多次进行评审。</p>
<ul>
<li><strong>提交评审的代码要完整，并且经过了自测和自检</strong></li>
</ul>
<p>如果代码还没有成功构建或没有通过自测，请不要提交它进行评审。</p>
<ul>
<li><strong>不要存在压力或反感情绪</strong></li>
</ul>
<p>评审你的代码其实是一件好事，可以帮助你变得更好，还能帮助我们为客户提供更好的产品。如果将来你回过头看你现在编写的代码，你也会发现一些可以改进的地方。经验丰富的开发人员可能会发现一些可以进一步改进的问题点，利用他们的经验可以帮助你更快地成长。</p>
<ul>
<li><strong>保持积极的心态</strong></li>
</ul>
<p>不要有那种抵抗心理，评审代码的人员其实是在试图帮助你。你不用接受所有的评论，但项目负责人给出的建议你可能不得不接受，这并不意味着一定是你错了。因为即使再优秀的人，偶尔也会固执己见。尽量抛开自我，去了解审核人的想法，尤其当审核人更有经验时。有时显而易见的方法反而会带来陷阱，而只有那些经验丰富的人才知道如何避免。</p>
<ul>
<li><strong>不要仅提供代码，最好也提供相关资料</strong></li>
</ul>
<p>如果你有相关的资料，也要提供出来。确保提供了足够的背景信息，以便审核人员可以提供更有价值的反馈。</p>
</article>
          </div>
          
          <div class="hidden-sm col-md-2" role="complementary">
            <div class="sideaffix">
              <div class="contribution">
                <ul class="nav">
                  <li>
                    <a href="https://github.com/weihong-phoenix/docfx_build/blob/main/doc/&#30740;&#21457;&#31649;&#29702;&#21046;&#24230;&#35268;&#33539;/CodeReview&#25351;&#21335;.md/#L1" class="contribution-link">Improve this Doc</a>
                  </li>
                </ul>
              </div>
              <nav class="bs-docs-sidebar hidden-print hidden-xs hidden-sm affix" id="affix">
                <h5>In This Article</h5>
                <div></div>
              </nav>
            </div>
          </div>
        </div>
      </div>
      
      <footer>
        <div class="grad-bottom"></div>
        <div class="footer">
          <div class="container">
            <span class="pull-right">
              <a href="#top">Back to top</a>
            </span>
            Shanghai Weihong Electronic Technology Co., Ltd.
            
          </div>
        </div>
      </footer>
    </div>
    
    <script type="text/javascript" src="../../styles/docfx.vendor.js"></script>
    <script type="text/javascript" src="../../styles/docfx.js"></script>
    <script type="text/javascript" src="../../styles/main.js"></script>
    
      </body>
</html>
